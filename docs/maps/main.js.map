{"version":3,"sources":["main.js"],"names":["ballFactor","reroll1","safariUltraBall","reroll2","pokeBall","greatBall","yellowReroll150","actualSuccesses","$","redReroll200","redReroll150","JSON","parse","val","yellowReroll200","pokemon","catchRate","baseHP","r2RollCycles","parseInt","r1Reroll200Cycles","r1Reroll150Cycles","intendedRate","game","doReroll200","ball","click","level","ballRerollNumber","doReroll150","hpDV","hp","Math","min","hpFactor","ihra","idivstate","divstate","hra","reroll","html","parseFloat","toFixed","concat"],"mappings":"aAAA,IACkBA,kBAAeC,kBAC7BC,YAAoBF,YAAgBC,WAAeE,iBAFnDC,SAAW,CAAEJ,WAAY,GAAIC,SAAS,EAAOE,SAAS,GACtDE,UAAY,CAAEL,WAAY,EAAGC,SAAS,EAAME,SAAS,GADrDC,gBAAW,CAAAJ,WAAA,GAAAC,SAAA,EAAAE,SAAA,GAAEH,aAAF,IAAkBC,aAAlB,IAAkCE,gBAAS,IAA1DG,gBAAA,IACID,aAAY,MAAgCF,aAAS,EAAzDI,gBAAA,EAEAC,EAAA,UAAIC,MAAY,WACZC,IAAAA,EAAYC,KAAhBC,MAAAJ,EAAA,YAAAK,OACIC,EAAeC,EAAnBC,UACIV,EAAAA,EAAJW,OACIC,EAAYC,SAAhBX,EAAA,UAAAK,OACIO,EAAAA,EAAAA,SAAJP,MACIQ,OAAAA,GACAC,kBAAJb,aACIF,kBAAJG,cACA,MAAAa,IACIC,kBAAJV,gBACId,kBAAJM,iBAGE,IAAAmB,EAAUC,EAAZ,SAAkBb,MACAF,aAAVI,GACAC,YAAYD,SAAQC,QACpBC,YAAgBb,SAApBD,QACIwB,WAAQR,SAAWnB,WACnBuB,iBAAO,KAcS,cAATE,GAbPF,YAAelB,UAAAJ,QACfmB,YAAiBf,UAAGI,QACpBY,WAAiBhB,UAAGK,WAFxBkB,iBAGyB,KACDd,cAApBM,GAAA,eAAAK,IACAJ,YAAiBnB,gBAAGI,QACvBkB,YAAAtB,gBAAAC,QAeGH,WAAaE,gBAAgBF,WAd7ByB,iBAAO,KAEPI,IAAAA,IAAAA,EAAczB,EAAAA,EAASH,GAAvB6B,IAAA,CACAN,IAAAA,GAAA,GAAcpB,EAASD,GAAvBwB,EAAA,KAAA,GAAAA,EAAA,GACA3B,GAAsBA,IAAAA,EAAtBA,YAAA,IAAA+B,EAAA,GAAA,IAAA,EACAH,cAAmBI,KAAnBC,IAAAjB,EAAA,EAAAY,kBAAAA,kBAAAM,EAAA,GAAA,IAJJ,IAKWT,IAAIU,EAAK,EAAAA,EAAb,IAA0BA,IAC7BN,IAAW,IAAGxB,EAAUJ,EAAxBmC,EAAA,MAAAA,GAAA,EAAA,CAKW,IAJA,IAAG/B,GAAUF,EAERkC,EAAhBD,EACWE,EAAKH,EAEFjC,EAAAA,GAAgBC,IAA9B,GAAA,IACaD,aAAb,IAA6BF,GACVqC,EAAnBA,EAAAjB,kBAAA,OACH,MAEyBS,aAAY,IAAAS,KACbR,EAAYH,EAAvBN,kBAAV,OAC+BrB,KAObmC,IADKC,EAAHE,KAGEA,EAAID,IADfA,EAAAA,EAAAnB,aAAA,SACC,GAAA,MAmBkBgB,EAjBdG,iBAAuBjB,EAAAA,EAAAA,GAKvBmB,EAAAA,oBAAAC,KAAAD,8BAAAA,OAAAE,WAAAlC,gBAAA,WAAAmC,QAAA,GAAAH,eACH/B,EAAA,sBACIgC,KADJ,gCAAAG,OACIF,WAAA,IAAAnB,aAAA,IAAAoB,QAAA,GADJ,eAGApB,aADGiB,gBAAS","file":"../js/main.js","sourcesContent":["var pokeBall = { ballFactor: 12, reroll1: false, reroll2: false };\r\nvar greatBall = { ballFactor: 8, reroll1: true, reroll2: false };\r\nvar safariUltraBall = { ballFactor: 12, reroll1: true, reroll2: true };\r\nvar redReroll200 = 520;\r\nvar redReroll150 = 564;\r\nvar yellowReroll200 = 516;\r\nvar yellowReroll150 = 560;\r\nvar r2RollCycles = 23664;\r\nvar r1Reroll200Cycles;\r\nvar r1Reroll150Cycles;\r\nvar intendedRate = 0;\r\nvar actualSuccesses = 0;\r\nvar doReroll150;\r\nvar doReroll200;\r\nvar ballFactor;\r\nvar ballRerollNumber;\r\n\r\n$('button').click(function () {\r\n    var pokemon = JSON.parse($('#species').val());\r\n    var catchRate = pokemon.catchRate;\r\n    var baseHP = pokemon.baseHP;\r\n    var level = parseInt($('#level').val());\r\n    var game = $('#game').val();\r\n    if (game === \"RB\") {\r\n        r1Reroll200Cycles = redReroll200;\r\n        r1Reroll150Cycles = redReroll150;\r\n    } else if (game === \"Y\") {\r\n        r1Reroll200Cycles = yellowReroll200;\r\n        r1Reroll150Cycles = yellowReroll150;\r\n    }\r\n    var ball = $('#ball').val();\r\n    if (ball === \"pokeBall\") {\r\n        doReroll150 = pokeBall.reroll1;\r\n        doReroll200 = pokeBall.reroll2;\r\n        ballFactor = pokeBall.ballFactor;\r\n        ballRerollNumber = 256;\r\n    } else if (ball === \"greatBall\") {\r\n        doReroll150 = greatBall.reroll1;\r\n        doReroll200 = greatBall.reroll2;\r\n        ballFactor = greatBall.ballFactor;\r\n        ballRerollNumber = 201;\r\n    } else if (ball === \"ultraBall\" || ball === \"safariBall\") {\r\n        doReroll150 = safariUltraBall.reroll1;\r\n        doReroll200 = safariUltraBall.reroll2;\r\n        ballFactor = safariUltraBall.ballFactor;\r\n        ballRerollNumber = 151;\r\n    }\r\n\r\n    for (var hpDV = 0; hpDV < 16; hpDV++) {\r\n        var hp = (((baseHP + hpDV) * 2 * level / 100) >> 0) + level + 10;\r\n        var hpFactor = ((((hp * 255) / ballFactor) >> 0) / ((hp / 4) >> 0)) >> 0;\r\n        intendedRate += Math.min(catchRate+1,ballRerollNumber) / ballRerollNumber * (hpFactor+1) / 256;\r\n        for (var ihra = 0; ihra < 256; ihra++) {\r\n            for (var idivstate = 0; idivstate < 65536; idivstate += 4) {\r\n                var catchMon = true;\r\n                var reroll = false;\r\n                var divstate = idivstate;\r\n                var hra = ihra;\r\n                do {\r\n                    hra = (hra + (divstate >>> 8)) & 0xFF;\r\n                    if (doReroll200 && hra > 200) {\r\n                        divstate = (divstate + r1Reroll200Cycles) & 0xFFFF;\r\n                        reroll = true;\r\n                    }\r\n                    else if (doReroll150 && hra > 150) {\r\n                        divstate = (divstate + r1Reroll150Cycles) & 0xFFFF;\r\n                        reroll = true;\r\n                    }\r\n                    else {\r\n                        reroll = false;\r\n                    }\r\n                }\r\n                while (reroll);\r\n                if (hra > catchRate) {\r\n                    catchMon = false;\r\n                } else {\r\n                    divstate = (divstate + r2RollCycles) & 0xFFFF;\r\n                    hra = (hra + (divstate >>> 8)) & 0xFF;\r\n                    catchMon = hra <= hpFactor;\r\n                }\r\n                actualSuccesses += catchMon ? 1 : 0;\r\n            }\r\n        }\r\n    }\r\n    $('#actualCatchRate').html(`Actual catch rate: <strong>${parseFloat(actualSuccesses / 671088.64).toFixed(2)}%</strong>`);\r\n    $('#intendedCatchRate').html(`Intended catch rate: <strong>${parseFloat(100*intendedRate/16).toFixed(2)}%</strong>`)\r\n    actualSuccesses = 0;\r\n    intendedRate = 0;\r\n});"]}