{"version":3,"sources":["main.js"],"names":["ballFactor","reroll1","reroll2","doReroll150","safariUltraBall","pokeBall","greatBall","yellowReroll150","click","pokemon","JSON","parse","$","val","redReroll200","catchRate","redReroll150","baseHP","yellowReroll200","r2RollCycles","r1Reroll200Cycles","r1Reroll150Cycles","game","doReroll200","ball","level","parseInt","hpDV","successes","hp","ihra","idivstate","catchMon","hra","divstate","hpFactor","toFixed"],"mappings":"aAAA,IACkBA,kBAAeC,kBAAeC,UAAhDC,YACIC,YAAoBJ,WAFpBK,SAAW,CAAEL,WAAY,GAAIC,SAAS,EAAOC,SAAS,GACtDI,UAAY,CAAEN,WAAY,EAAGC,SAAS,EAAMC,SAAS,GADrDG,gBAAW,CAAAL,WAAA,GAAAC,SAAA,EAAAC,SAAA,GAAEF,aAAF,IAAkBC,aAAlB,IAAkCC,gBAAS,IAA1DK,gBAAA,IACID,aAAY,MACuCJ,EAAAA,UAASM,MAAA,WAAhE,IAAAC,EAAAC,KAAAC,MAAAC,EAAA,YAAAC,OACIC,EAAeL,EAAnBM,UACIC,EAAYP,EAAhBQ,OACIC,EAAAA,SAAJN,EAAA,UAAAC,OACIN,EAAAA,EAAAA,SAAJM,MACgB,OAAZM,GACAC,kBAAJN,aACIO,kBAAJL,cACA,MAAAM,IACInB,kBAAJe,gBACIK,kBAAJhB,iBAGE,IAAAiB,EAAUhB,EAAZ,SAAkBK,MACAH,aAAVD,GACAM,YAAYN,SAAQM,QACpBE,YAAgBZ,SAApBH,QACIuB,WAAQC,SAAW1B,YACDa,cAATW,GAcTrB,YAAcG,UAAUL,QAbxBqB,YAAehB,UAAAJ,QACfkB,WAAiBd,UAAGQ,YACAE,cAApBK,GAAA,eAAAG,IAFJrB,YAGoBC,gBAAKH,QACrBmB,YAAiBhB,gBAAGc,QACpBG,WAAiBjB,gBAAGG,YAkBxB,IAAK,IAAIoB,EAhBTC,UAAa,EAgBMD,EAAO,GAAIA,IAb1BJ,IAFAC,IAAIK,GAAiB,GAAZZ,EAAYU,GAAAF,EAAA,KAAA,GAAAA,EAAA,GACrBtB,GAAuBF,IAAAA,EAAvBD,YAAA,IAAA6B,EAAA,GAAA,IAAA,EACWC,EAAGzB,EAASH,EAAvB,IAAA4B,IACA9B,IAAaK,IAAAA,EAASL,EAAtB+B,EAAA,MAAAA,GAAA,EAAA,CAKOP,IAJAA,IAAIQ,GAAK,EAEF1B,EAAUJ,EACXI,EAASwB,EAER1B,EAAAA,GAAgBH,IAA9B,GAAA,IACcG,aAAd,IAA8BF,GACjBE,EAAgBJ,EAA7BoB,kBAAA,OACH,MAEDjB,aAAA,IAAA8B,KAiBoBC,EAAYA,EAAWb,kBAAqB,OAhBlCM,KAONK,IADZjB,EAAUkB,KAGPA,EAAAA,IAkBCC,EAAYA,EAAWf,aAAgB,SAlBxC,GAAA,MACOgB,EACFZ,WAAeU,EAAW,EAAA,EAK1BC,EAAAA,UAAAA,KAAAA,eAAAA,OAAuBb,WAAAA,UAAqB,WAA5Ce,QAAA,GAAAF","file":"../js/main.js","sourcesContent":["var pokeBall = { ballFactor: 12, reroll1: false, reroll2: false };\r\nvar greatBall = { ballFactor: 8, reroll1: true, reroll2: false };\r\nvar safariUltraBall = { ballFactor: 12, reroll1: true, reroll2: true };\r\nvar redReroll200 = 520;\r\nvar redReroll150 = 564;\r\nvar yellowReroll200 = 516;\r\nvar yellowReroll150 = 560;\r\nvar r2RollCycles = 23664;\r\nvar r1Reroll200Cycles;\r\nvar r1Reroll150Cycles;\r\nvar successes;\r\nvar doReroll150;\r\nvar doReroll200;\r\nvar ballFactor;\r\n\r\n$('button').click(function () {\r\n    var pokemon = JSON.parse($('#species').val());\r\n    var catchRate = pokemon.catchRate;\r\n    var baseHP = pokemon.baseHP;\r\n    var level = parseInt($('#level').val());\r\n    var game = $('#game').val();\r\n    if (game === \"RB\") {\r\n        r1Reroll200Cycles = redReroll200;\r\n        r1Reroll150Cycles = redReroll150;\r\n    } else if (game === \"Y\") {\r\n        r1Reroll200Cycles = yellowReroll200;\r\n        r1Reroll150Cycles = yellowReroll150;\r\n    }\r\n    var ball = $('#ball').val();\r\n    if (ball === \"pokeBall\") {\r\n        doReroll150 = pokeBall.reroll1;\r\n        doReroll200 = pokeBall.reroll2;\r\n        ballFactor = pokeBall.ballFactor;\r\n    } else if (ball === \"greatBall\") {\r\n        doReroll150 = greatBall.reroll1;\r\n        doReroll200 = greatBall.reroll2;\r\n        ballFactor = greatBall.ballFactor;\r\n    } else if (ball === \"ultraBall\" || ball === \"safariBall\") {\r\n        doReroll150 = safariUltraBall.reroll1;\r\n        doReroll200 = safariUltraBall.reroll2;\r\n        ballFactor = safariUltraBall.ballFactor;\r\n    }\r\n\r\n    successes = 0;\r\n    for (var hpDV = 0; hpDV < 16; hpDV++) {\r\n        var hp = (((baseHP + hpDV) * 2 * level / 100) >> 0) + level + 10;\r\n        var hpFactor = ((((hp * 255) / ballFactor) >> 0) / ((hp / 4) >> 0) >> 0);\r\n        for (var ihra = 0; ihra < 256; ihra++) {\r\n            for (var idivstate = 0; idivstate < 65536; idivstate += 4) {\r\n                var catchMon = true;\r\n                var reroll = false;\r\n                var divstate = idivstate;\r\n                var hra = ihra;\r\n                do {\r\n                    hra = (hra + (divstate >>> 8)) & 0xFF;\r\n                    if (doReroll200 && hra > 200) {\r\n                        divstate = (divstate + r1Reroll200Cycles) & 0xFFFF;\r\n                        reroll = true;\r\n                    }\r\n                    else if (doReroll150 && hra > 150) {\r\n                        divstate = (divstate + r1Reroll150Cycles) & 0xFFFF;\r\n                        reroll = true;\r\n                    }\r\n                    else {\r\n                        reroll = false;\r\n                    }\r\n                }\r\n                while (reroll);\r\n                if (hra > catchRate) {\r\n                    catchMon = false;\r\n                } else {\r\n                    divstate = (divstate + r2RollCycles) & 0xFFFF;\r\n                    hra = (hra + (divstate >>> 8)) & 0xFF;\r\n                    catchMon = hra <= hpFactor;\r\n                }\r\n                successes += catchMon ? 1 : 0;\r\n            }\r\n        }\r\n    }\r\n    $('output').html(`Catch rate: ${parseFloat(successes / 671088.64).toFixed(2)}%`);\r\n});"]}