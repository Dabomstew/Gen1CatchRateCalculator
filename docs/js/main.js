"use strict";var gameSpecificCycleCounts={RB:{reroll1:520,reroll2:564},Y:{reroll1:516,reroll2:560}},roll2Cycles=23664;function setRateBar(a,e){var l=$("#".concat(a));l.css("width","".concat(e,"%")).attr("aria-valuenow",e),$(".".concat(a)).html("".concat(e,"%")),l[0].className="progress-bar ".concat(50<=e?"bg-success":"bg-danger")}var loadingSpinner=$(".spinner-border");function recalcCatchRate(){var a=0,e=0,l=JSON.parse($("#species").val()),r=JSON.parse($("#ball").val()),t=parseInt($("#level").val()),o=Math.max(parseInt($("#hpRange").val()),1),c=$("#status").val(),n=$("#game").val();"RB"===n&&["DRAGONAIR","DRAGONITE"].includes(l.name)&&(l.catchRate=45);for(var s=gameSpecificCycleCounts[n].reroll1,i=gameSpecificCycleCounts[n].reroll2,f=0;f<16;f++){var R=(2*(l.baseHP+f)*t/100>>0)+t+10,u=255*R/r.ballFactor>>0,v=(R*(o/100)>>0)/4>>0;0<v&&(u=u/v>>0),u=Math.min(u,255),a+=c/r.ballRerollCutoff+Math.min(l.catchRate+1,r.ballRerollCutoff-c)/r.ballRerollCutoff*(u+1)/256,e+=16384*c;for(var p=c;p<256;p++)for(var d=0;d<65536;d+=4){for(var C=d,b=p;;)if(b=b+(C>>>8)&255,r.reroll1&&200<b)C=C+s&65535;else{if(!(r.reroll2&&150<b))break;C=C+i&65535}b-c<=l.catchRate&&(e+=(b=b+((C=C+roll2Cycles&65535)>>>8)&255)<=u?1:0)}}loadingSpinner.addClass("d-none"),setRateBar("actualRate",parseFloat(e/671088.64).toFixed(2)),setRateBar("intendedRate",parseFloat(100*a/16).toFixed(2))}$("button").on("click",function(){loadingSpinner.removeClass("d-none"),setTimeout(function(){recalcCatchRate()},100)});
//# sourceMappingURL=../maps/main.js.map
